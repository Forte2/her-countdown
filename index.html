<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<title>hey pretty mama</title>
<link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&display=swap" rel="stylesheet"/>
<style>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ base layout â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
html,body{
  margin:0;padding:0;text-align:center;overflow-x:hidden;
  font-family:'Luckiest Guy',cursive;font-size:1.1rem;color:#fff;
  background:linear-gradient(to bottom,#ffd1dc,#ffe6b3,#cceeff);
  transition:background 2s ease;
}
body.night{background:linear-gradient(to bottom,#1e3c72,#2a5298,#0f2027);}
h1{font-size:2.5rem;margin-top:20px;}
.toggle-btn,.whale-button,button,input{
  font-family:'Luckiest Guy',cursive;border:none;border-radius:10px;
}
.toggle-btn{margin-top:10px;padding:8px 16px;background:#fff;color:#333;cursor:pointer}
.info-container{display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;margin:10px}
.info-box{background:rgba(0,0,0,.3);padding:5px 10px;border-radius:8px;font-size:1rem;transition:background 1s}
#moon,#sun{position:relative;display:inline-block;margin:20px auto;width:80px;height:80px;border-radius:50%;box-shadow:0 0 30px 10px rgba(255,255,255,.5);opacity:.7}
#moon{background:radial-gradient(circle,#fff 40%,#ccc 70%,transparent 100%)}
#sun {background:radial-gradient(circle,#ffecb3 40%,#ffd54f 70%,transparent 100%)}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ clouds, UFO, heads â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@keyframes floatClouds{from{transform:translateX(-200px)}to{transform:translateX(150vw)}}
.cloud{position:absolute;background:#fff;border-radius:50%;box-shadow:-60px 20px #fff,-30px 10px #fff,0 0 #fff,30px 10px #fff,60px 20px #fff;opacity:.8;animation:floatClouds 60s linear infinite}
.cloud1{width:200px;height:60px;top:50px;left:-250px;animation-delay:0s}
.cloud2{width:180px;height:70px;top:100px;left:-300px;animation-delay:10s}
.cloud3{width:220px;height:80px;top:180px;left:-350px;animation-delay:20s}
#ufo{position:absolute;top:120px;left:-50px;font-size:2rem;animation:floatClouds 25s linear infinite}

/* floating heads animation */
@keyframes driftAcross{from{transform:translateX(0)}to{transform:translateX(calc(-100vw - 120px))}}
.head{position:absolute;display:none;pointer-events:none;z-index:3}

/* countdown + misc blocks */
#countdown{display:flex;justify-content:center;gap:20px;margin-top:1rem;flex-wrap:wrap}
.time-block{background:rgba(255,228,181,.8);padding:20px;border-radius:20px;box-shadow:0 4px 10px rgba(0,0,0,.1);font-size:2rem;width:100px;color:#333}
.label{font-size:1rem;margin-top:5px}
.gif{margin-top:30px;border-radius:12px;max-width:100%}
audio{display:block;margin:20px auto;border-radius:8px}
.whale-buttons{display:flex;justify-content:center;gap:20px;margin-bottom:20px;flex-wrap:wrap}
.whale-button{font-size:2rem;background:none;cursor:pointer}
.tiny{margin-top:20px;font-size:.8rem}
canvas.game-canvas{border:2px solid #ccc;background:#e6f7ff;display:block;margin:50px auto;border-radius:16px}
.arrow-buttons{margin-top:10px}
.arrow-buttons button{font-size:2rem;margin:0 20px;background:#fff;color:#333;border-radius:10px;cursor:pointer}

#daily-fact{margin:30px auto;font-size:1.2rem;max-width:90%}

/* responsive */
@media(max-width:600px){
  .info-container{flex-direction:column;align-items:center}
  h1{font-size:2rem;margin-top:20px}
}
</style>
</head>
<body class="day">

<!-- stars & clouds -->
<canvas id="stars-canvas" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0"></canvas>
<div class="cloud cloud1"></div><div class="cloud cloud2"></div><div class="cloud cloud3"></div>

<!-- ufo + heads -->
<div id="ufo">ğŸ›¸</div>
<div id="head1" class="head"><img src="https://dl.dropboxusercontent.com/scl/fi/5o04858h6fdqt23amgfwl/IMG_2568-removebg-preview.png?raw=1" width="60" height="60" style="object-fit:contain"></div>
<div id="head2" class="head"><img src="https://dl.dropboxusercontent.com/scl/fi/padr9l1hdyatevnojn5kd/IMG_3133-removebg-preview.png?raw=1" width="60" height="60" style="object-fit:contain"></div>

<!-- info boxes -->
<div class="info-container">
  <div class="info-box" id="single-clock">Loading timeâ€¦</div>
  <div class="info-box" id="airMood" title="Loading AQIâ€¦">Loading air moodâ€¦</div>
  <div class="info-box" id="temp">Loading temperatureâ€¦</div>
</div>

<div id="moon"></div><div id="sun"></div>

<h1 title="hi tori ğŸ‘€">You, Me, and This Countdown â€” A Love Triangle</h1>
<button class="toggle-btn" onclick="toggleMode()">Toggle Day/Night</button>

<!-- countdown -->
<div id="countdown">
  <div class="time-block"><div id="days">0</div><div class="label">Days</div></div>
  <div class="time-block"><div id="hours">0</div><div class="label">Hours</div></div>
  <div class="time-block"><div id="minutes">0</div><div class="label">Minutes</div></div>
  <div class="time-block"><div id="seconds">0</div><div class="label">Seconds</div></div>
</div>

<!-- cute gif -->
<video class="gif" autoplay loop muted playsinline>
  <source src="244188_small.mp4" type="video/mp4">
</video>

<!-- MUSIC PLAYLIST -->
<audio id="bg-music" controls preload="metadata">
  <source src="https://dl.dropboxusercontent.com/scl/fi/taqihndudrnlq5ruo1shn/Next-to-You.mp3?raw=1" type="audio/mpeg">
  <source src="https://dl.dropboxusercontent.com/scl/fi/b1bja2neem0zfpe82yimv/Do-You-Remember.mp3?raw=1" type="audio/mpeg">
  <source src="https://dl.dropboxusercontent.com/scl/fi/0a56znw8yg2vjlwzr3rht/Taylor-Swift-Delicate-Recorded-at-The-Tracking-Room-Nashville.mp3?raw=1" type="audio/mpeg">
  <source src="https://dl.dropboxusercontent.com/scl/fi/0vxk899m5yh19esc1u7fo/All-That-And-More-Sailboat.mp3?raw=1" type="audio/mpeg">
</audio>

<div class="whale-buttons">
  <button onclick="pauseMusic()" class="whale-button">ğŸ‹</button>
  <button onclick="playMusic()"  class="whale-button">ğŸ³</button>
</div>

<!-- secret-photo Easter egg -->
<label for="secret-code">Enter the name of the place we went on our first date:</label><br>
<input id="secret-code" placeholder="hint: jk, no hints" oninput="checkCode()">
<img id="hidden-photo" src="IMG_2797.jpeg" style="display:none;max-width:80%;margin-top:20px;border-radius:12px">

<!-- voice note -->
<audio controls preload="metadata">
  <source src="https://dl.dropboxusercontent.com/scl/fi/47oiteyruexurqtdprj3n/New-Recording-14.mp3?raw=1" type="audio/mpeg">
</audio>

<!-- mini-game -->
<canvas id="gameCanvas" class="game-canvas" width="400" height="500"></canvas>
<div class="arrow-buttons">
  <button onclick="moveLeft()">â¬…ï¸</button>
  <button onclick="moveRight()">â¡ï¸</button>
</div>
<div style="font-size:1.5rem;margin-top:20px">Score: <span id="scoreDisplay">0</span></div>
<div style="font-size:1rem;color:#ddd">Top score: whatever you just got</div>

<!-- whale fact -->
<div id="daily-fact">ğŸ‹ Whale Fact: Loadingâ€¦</div>

<!-- whale sound -->
<audio id="whale-sound" preload="metadata">
  <source src="https://dl.dropboxusercontent.com/scl/fi/gqm7x0nqkv73l89wgil01/Singing-whales.mp3?raw=1" type="audio/mpeg">
</audio>
<div class="tiny" style="cursor:pointer" onclick="playWhaleSound()">ğŸ”Š Hear what the whale has to say about Israel</div>

<script>
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ countdown â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const countDownDate = new Date("August 28, 2025 17:00:00 GMT-0700").getTime();
setInterval(()=>{
  const d=countDownDate-Date.now();
  $("days").textContent   =Math.floor(d/864e5);
  $("hours").textContent  =Math.floor(d%864e5/36e5);
  $("minutes").textContent=Math.floor(d%36e5/6e4);
  $("seconds").textContent=Math.floor(d%6e4/1e3);
},1000);

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ music control helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function pauseMusic(){ $("bg-music").pause();}
function playMusic(){  $("bg-music").play(); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ whale sound click â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function playWhaleSound(){ const a=$("whale-sound"); a.currentTime=0; a.play(); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ theme toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function toggleMode(){
  document.body.classList.toggle("night");
  $("moon").style.display = document.body.classList.contains("night")?"block":"none";
  $("sun").style.display  = document.body.classList.contains("night")?"none":"block";
  updateSingleClock();updateTemperature();updateAirMood();
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ secret code photo â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function checkCode(){
  $("hidden-photo").style.display =
    $("secret-code").value.trim().toLowerCase()==="scopa"?"block":"none";
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ whale facts (20) â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const facts=[
"A blue-whale heartbeat can be heard two miles away with hydrophones.",
"Bowhead whales still carry 1800-s harpoon tipsâ€”proving 200-year lifespans.",
"Belugas can bend their necks; most whalesâ€™ neck bones are fused solid.",
"Sperm-whale clicks top 230 dBâ€”loud enough to stun a diver at armâ€™s length.",
"Gray-whale moms whisper to calves so lurking orcas canâ€™t eavesdrop.",
"Narwhal tusks are sensory organs packed with millions of nerve endings.",
"Humpbacks trap fish with spiral â€˜bubble-netsâ€™ before lunge-feeding.",
"Minke whales burst-swim over 20 mphâ€”faster than most dolphins.",
"Fin-whale pairs exhale so in-sync their twin spouts sometimes merge.",
"Pilot-whale pods have adopted orphaned dolphins from other species.",
"Antarctic blues gain ~200 lb an hour during peak krill season.",
"Right-whale calluses are uniqueâ€”scientists use them like fingerprints.",
"Cuvierâ€™s beaked whales dive nearly 3 km and stay under two hours.",
"Humpback males in Hawaiâ€˜i queue behind one female in â€˜pickup linesâ€™.",
"Some orca clans keep dialects and avoid interbreeding for centuries.",
"Whale ear-wax builds up in ringsâ€”biologists read it like tree rings.",
"Blue-whale poop is neon pink; krill pigment works as a highlighter.",
"Sei whales skim so near the surface seabirds land on their backs.",
"Gray-whale suction-feeds yank buried prey straight from the seabed.",
"Pakicetusâ€”the earliest whale ancestorâ€”had four legs and lived on land."
];
$("daily-fact").textContent="ğŸ‹ Whale Fact: "+facts[new Date().getDate()%facts.length];

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ mini-game â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
let score=0,whaleX=160,whaleY=450,hearts=[];
const cvs=$("gameCanvas"),ctx=cvs.getContext("2d");
function drawWhale(){ctx.fillStyle="#0077cc";ctx.fillRect(whaleX,whaleY,80,30);}
function drawHeart(x,y){
  ctx.fillStyle="red";
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.bezierCurveTo(x,y-10,x-10,y-15,x-15,y);
  ctx.bezierCurveTo(x-20,y+15,x,y+25,x,y+35);
  ctx.bezierCurveTo(x,y+25,x+20,y+15,x+15,y);
  ctx.bezierCurveTo(x+10,y-15,x,y-10,x,y);ctx.fill();
}
function updateGame(){
  ctx.clearRect(0,0,cvs.width,cvs.height);drawWhale();
  for(let i=0;i<hearts.length;i++){
    hearts[i].y+=2;drawHeart(hearts[i].x,hearts[i].y);
    if(hearts[i].y>whaleY&&hearts[i].x>whaleX&&hearts[i].x<whaleX+80){
      hearts.splice(i,1);score++;$("scoreDisplay").textContent=score;i--;
    }
  }
  if(Math.random()<.03)hearts.push({x:10+Math.random()*380,y:-20});
  requestAnimationFrame(updateGame);
}
function moveLeft(){whaleX=Math.max(0,whaleX-20);}
function moveRight(){whaleX=Math.min(320,whaleX+20);}
document.addEventListener("keydown",e=>{
  if(e.key==="ArrowLeft")moveLeft();
  if(e.key==="ArrowRight")moveRight();
});
updateGame();

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ twinkling stars â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const starCV=$("stars-canvas"),starCTX=starCV.getContext("2d");
let stars=[],shoot=null;
function sizeStars(){starCV.width=innerWidth;starCV.height=innerHeight;}
addEventListener("resize",sizeStars);sizeStars();
for(let i=0;i<150;i++)
  stars.push({x:Math.random()*starCV.width,y:Math.random()*starCV.height,r:Math.random()*1.5,a:Math.random(),d:Math.random()*.02});
setInterval(()=>{if(document.body.classList.contains("night")&&!shoot&&Math.random()<.1)shoot={x:Math.random()*starCV.width,y:0,r:2,s:10};},1000);
(function starLoop(){
  starCTX.clearRect(0,0,starCV.width,starCV.height);
  if(document.body.classList.contains("night")){
    stars.forEach(s=>{s.a+=s.d;if(s.a<=0||s.a>=1)s.d=-s.d;
      starCTX.fillStyle=`rgba(255,255,255,${s.a})`;
      starCTX.beginPath();starCTX.arc(s.x,s.y,s.r,0,2*Math.PI);starCTX.fill();});
    if(shoot){starCTX.fillStyle="#fff";starCTX.beginPath();starCTX.arc(shoot.x,shoot.y,shoot.r,0,2*Math.PI);starCTX.fill();
      shoot.x+=shoot.s;shoot.y+=shoot.s;if(shoot.y>starCV.height)shoot=null;}
  }
  requestAnimationFrame(starLoop);
})();

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ floating heads â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function spawnHead(el){
  if(!document.body.classList.contains("night"))return;
  el.style.display="block";
  el.style.top=(innerHeight*.35+Math.random()*innerHeight*.25)+"px";
  el.style.left=innerWidth+120+"px";
  el.style.animation="driftAcross 22s linear forwards";
  setTimeout(()=>{el.style.display="none";},22000);
}
/* testing: every 5s & 8s. Change to 120000/160000 for production */
setInterval(()=>spawnHead($("head1")),5000);
setInterval(()=>spawnHead($("head2")),8000);

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ clock / weather / AQI â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function updateSingleClock(){
  const night=document.body.classList.contains("night");
  const tz=night?"America/New_York":"America/Los_Angeles";
  const label=night?"Your Time":"Tyler's Time";
  $("single-clock").textContent=`${label}: ${new Date().toLocaleTimeString('en-US',{timeZone:tz,hour:'2-digit',minute:'2-digit'})}`;
}
setInterval(updateSingleClock,1000);updateSingleClock();

async function updateTemperature(){
  const key="113bf4b240cd4c9a81e42115252906";
  const night=document.body.classList.contains("night");
  const coords=night?"40.7033,-74.0110":"34.0122,-118.4279";
  const label=night?"Your temperature":"Tyler's temperature";
  try{
    const d=await fetch(`https://api.weatherapi.com/v1/current.json?key=${key}&q=${coords}`).then(r=>r.json());
    $("temp").textContent=`${label}: ${d.current.temp_f}Â°F`;
  }catch{ $("temp").textContent="Temperature unavailable.";}
}
async function updateAirMood(){
  const key="113bf4b240cd4c9a81e42115252906";
  const night=document.body.classList.contains("night");
  const coords=night?"40.7033,-74.0110":"34.0122,-118.4279";
  try{
    const d=await fetch(`https://api.weatherapi.com/v1/current.json?key=${key}&q=${coords}&aqi=yes`).then(r=>r.json());
    const idx=d.current.air_quality["us-epa-index"]||0;
    const moods=[
      "âœ¨ Airâ€™s basically filtered, reverse osmosis vibes.",
      "ğŸ«§ Kinda clean, ngl.",
      "ğŸ˜—âœŒï¸ Meh. Kinda mid.",
      "ğŸ«  Low-key crusty out here.",
      "ğŸ˜®â€ğŸ’¨ The air is literally buns af.",
      "â˜ ï¸ Babe donâ€™t breathe this."
    ];
    $("airMood").textContent="Air Mood: "+(moods[idx-1]||"ğŸ¤·â€â™‚ï¸ Unknown");
    $("airMood").title="AQI index: "+idx;
    $("airMood").style.background=idx>=4?"rgba(255,0,0,.4)":"rgba(0,0,0,.3)";
  }catch{
    $("airMood").textContent="Air Mood: unavailable.";
  }
}
updateTemperature();updateAirMood();
setInterval(updateTemperature,900000);
setInterval(updateAirMood,900000);

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ helper $() â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function $(id){return document.getElementById(id);}
</script>
</body>
</html>
